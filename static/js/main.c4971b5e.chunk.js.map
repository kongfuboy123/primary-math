{"version":3,"sources":["pages/math/index.js","App.js","index.js"],"names":["MathTest","initState","arr","isShow","isAnswer","state","randomNumber","min","max","range","rand","Math","random","floor","getRandomNumber","n","addition","num1","num2","sum","Q","A","subtraction","diff","multiplication","res","generator","func","n1","n2","i","push","Object","assign","index","handleChange","e","target","name","value","nextElementSibling","innerText","throttle","fn","delay","timer","args","clearTimeout","setTimeout","apply","resetAll","document","getElementById","reset","setState","handleClick","flag","className","onClick","id","onChange","this","style","listStyle","ref","myRef","map","data","fontWeight","type","color","visibility","Component","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.c4971b5e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass MathTest extends Component {\r\n  initState = {\r\n    // 初始化习题数组\r\n    //题库数组\r\n    arr:[],\r\n    //是否显示批改\r\n    isShow : 'hidden',\r\n    //是否显示答案\r\n    isAnswer:false,\r\n   \r\n    \r\n  };\r\n  state = this.initState;\r\n  //生成随机整数(min,max)为生成整数范围\r\n  randomNumber = (min, max) =>{\r\n    const range = max - min + 1;\r\n    const rand = Math.random() ;\r\n    const num = Math.floor(rand * range + min);\r\n    return num;\r\n  }\r\n\r\n  getRandomNumber = (n=1) => {\r\n        return this.randomNumber(10**(n-1),10**n-1);\r\n  } \r\n  \r\n  \r\n  //加法\r\n  addition = (num1, num2) => {\r\n    \r\n    const sum = num1 + num2\r\n      \r\n    return {\r\n      Q: `${num1} + ${num2} =`,\r\n      A: sum}\r\n  }\r\n    //减法\r\n  subtraction = (num1, num2) => {\r\n    if(num1 >= num2){\r\n      const diff = num1 - num2\r\n      return { \r\n          Q: `${num1} - ${num2} =`,\r\n          A: diff\r\n      }\r\n    }else{\r\n      const diff = num2 - num1\r\n      return{\r\n          Q: `${num2} - ${num1} =`,\r\n          A: diff\r\n      }\r\n    }\r\n  }\r\n  \r\n  multiplication = (num1, num2) => {\r\n    \r\n    const res = num1 * num2\r\n      \r\n    return {\r\n      Q: `${num1} X ${num2} =`,\r\n      A: res}\r\n  }\r\n  /* 题库生成器，n为生成题目数量，func为题目类型,n1,n2 为数字位数，两位数就是2，个位数就1\r\n  例如两位数加法，func就是addtion n1，n2 都是2 */ \r\n  generator = (n,func,n1,n2) =>{\r\n    let arr = [];\r\n    for (let i = 0; i < n; i++){\r\n      const num1 = this.getRandomNumber(n1);\r\n      const num2 = this.getRandomNumber(n2);\r\n      const res = func(num1,num2);\r\n      arr.push(Object.assign({},{index:i},res))\r\n    }\r\n    return arr\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 处理input框内填写答案\r\n  handleChange = (e)=>{\r\n    //this.state.arr[e.target.name].A 为题目数组内答案，e.target.value为input内填写的答案\r\n   \r\n    if(this.state.arr[e.target.name].A == e.target.value){\r\n      e.target.nextElementSibling.innerText ='✓';\r\n    }else{\r\n      e.target.nextElementSibling.innerText ='X';\r\n    }  \r\n  }\r\n  //加个防抖\r\n  throttle = (fn,delay)=>{\r\n    let timer = null;\r\n    return (...args)=>{\r\n      if(timer) {\r\n        clearTimeout(timer);\r\n      }\r\n      timer = setTimeout(()=>fn.apply(this,args),delay);   \r\n    }\r\n  }\r\n\r\n  resetAll = () => { \r\n    //reset form\r\n    document.getElementById(\"data-box\").reset();\r\n    //reset state\r\n    this.setState(this.initState);\r\n  }\r\n  //根据e.target.name，来选择对应的click\r\n  handleClick = (e) => {\r\n    \r\n    switch (e.target.name){\r\n      case 'add10':\r\n        \r\n        this.resetAll();\r\n        this.setState({arr: this.generator(10,this.addition,1,1)});\r\n        break;\r\n      case 'add100':\r\n        this.resetAll();\r\n        this.setState({arr: this.generator(10,this.addition,2,2)});\r\n        break;\r\n      case 'sub10':\r\n        this.resetAll();\r\n        this.setState({arr: this.generator(10,this.subtraction,1,1)});\r\n        break;\r\n      case 'sub100':\r\n        this.resetAll();\r\n        this.setState({arr: this.generator(10,this.subtraction,2,2)});\r\n        break;\r\n      case 'multiply ':\r\n        this.resetAll();\r\n        this.setState({arr: this.generator(10,this.multiplication,1,1)});\r\n        break;\r\n      case 'answer':\r\n        const flag = !this.state.isAnswer\r\n        this.setState({isAnswer: flag});\r\n        break;\r\n      case 'check':\r\n        if(this.state.isShow==='hidden'){\r\n          this.setState({\r\n            isShow : 'visible'\r\n        })\r\n        // e.target.innerText = '隐藏批改'\r\n      }else{\r\n          this.setState({\r\n            isShow : 'hidden'\r\n        })\r\n        // e.target.innerText = '批改作业'\r\n      }\r\n        break;\r\n      default:break;\r\n        \r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='container'>\r\n        <h2 className='title'> 小学数学刷题 </h2>\r\n        <nav >\r\n          <button name=\"add10\" onClick={(e)=>this.handleClick(e)}>10以内加法10道</button>\r\n          <button name=\"sub10\" onClick={(e)=>this.handleClick(e)}>10以内减法10道</button>\r\n          <button name=\"add100\" onClick={(e)=>this.handleClick(e)}>100以内加法10道</button>\r\n          <button name=\"sub100\" onClick={(e)=>this.handleClick(e)}>100以内减法10道</button>\r\n          <button name=\"multiply \" onClick={(e)=>this.handleClick(e)}>乘法10道</button>\r\n        </nav>\r\n\r\n        <form id='data-box' onChange={this.throttle(this.handleChange,500)}>\r\n          Question\r\n          <ul style={{listStyle:'none'}} ref={this.myRef} >\r\n            {this.state.arr.map(data =>\r\n            <li key={data.index} >\r\n              <span style={{fontWeight:200}}>({data.index+1})</span> \r\n              <span>{data.Q}</span>\r\n              <input type=\"text\" name={data.index} />\r\n              <span name={data.index} style={{color:'red',visibility:`${this.state.isShow}` }}></span>\r\n            </li>\r\n            )}\r\n          </ul>\r\n        </form>\r\n        <div>\r\n          <button name='check' onClick={this.handleClick}>{this.state.isShow==='hidden'?'批改作业':'隐藏批改'}</button>\r\n        </div>\r\n        <div style={{visibility:`${this.state.isShow}` }}>\r\n          <button name='answer' onClick={e=>this.handleClick(e)}>Answer</button>\r\n          {this.state.isAnswer && this.state.arr.map(data =><span key={data.index}><span style={{fontWeight:200}}>({data.index+1})</span> {data.A} </span>)}\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MathTest;\r\n\r\n\r\n","import MathTest from './pages/math'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MathTest/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n\n"],"sourceRoot":""}